# ğŸ“Š Logging System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DISCORD BOT LOGGING SYSTEM                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  EVENT SOURCES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“ COMMANDS          âœï¸ EDITS             ğŸ—‘ï¸ DELETES  â”‚
â”‚  /kick               Message changed      Message removed â”‚
â”‚  /ban                Old â†’ New content    Content logged  â”‚
â”‚  /mute                                                    â”‚
â”‚  /warn              ğŸ”¨ MODERATION         ğŸ“Š STATS      â”‚
â”‚  /purge             Actions logged        Server analyzed â”‚
â”‚  /lock              All mods tracked      Members shown   â”‚
â”‚  /unlock                                  Roles mapped    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“                â†“                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LOGGING UTILITY (loggingUtils.js)              â”‚
â”‚                                                          â”‚
â”‚  â€¢ logModerationAction()  â†’ Format mod logs             â”‚
â”‚  â€¢ logCommandAction()     â†’ Format command logs         â”‚
â”‚  â€¢ getActionColor()       â†’ Color code by action       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LOGSETTINGS DATABASE TABLE                       â”‚
â”‚                                                          â”‚
â”‚  Column            â”‚  Type      â”‚  Default              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  guildId (PK)     â”‚  STRING    â”‚  (Required)           â”‚
â”‚  logChannelId     â”‚  STRING    â”‚  NULL                 â”‚
â”‚  logCommands      â”‚  BOOLEAN   â”‚  true                 â”‚
â”‚  logMessages      â”‚  BOOLEAN   â”‚  true                 â”‚
â”‚  logMemberActions â”‚  BOOLEAN   â”‚  true                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DISCORD LOG CHANNEL (Your designated channel)      â”‚
â”‚                                                          â”‚
â”‚  ğŸ“ Command: /kick                                      â”‚
â”‚     User: Admin#1234 â†’ Target: Spammer#5678           â”‚
â”‚                                                          â”‚
â”‚  âœï¸ Edit: User changed message                         â”‚
â”‚     Old: "hello" â†’ New: "hello everyone"              â”‚
â”‚                                                          â”‚
â”‚  ğŸ—‘ï¸ Delete: Spammer#5678 - "offensive content"        â”‚
â”‚                                                          â”‚
â”‚  ğŸ”¨ Ban: Admin#1234 banned Troll#9999                 â”‚
â”‚     Reason: Repeated violations                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CONFIGURATION COMMANDS                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  /setmodlog channel: #moderation-logs                   â”‚
â”‚  â””â”€> Sets where logs will be sent                       â”‚
â”‚                                                          â”‚
â”‚  /setmodlog toggle feature: commands                    â”‚
â”‚  â””â”€> Turn command logging on/off                        â”‚
â”‚                                                          â”‚
â”‚  /setmodlog toggle feature: messages                    â”‚
â”‚  â””â”€> Turn message edit/delete logging on/off            â”‚
â”‚                                                          â”‚
â”‚  /setmodlog toggle feature: memberactions               â”‚
â”‚  â””â”€> Turn moderation logging on/off                     â”‚
â”‚                                                          â”‚
â”‚  /setmodlog status                                      â”‚
â”‚  â””â”€> View current configuration                         â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            STATISTICS COMMAND                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  /serverstats                                           â”‚
â”‚  â”œâ”€> Member Analytics                                   â”‚
â”‚  â”‚   â”œâ”€ Total / Users / Bots                           â”‚
â”‚  â”‚   â”œâ”€ Online / Idle / DND / Offline                  â”‚
â”‚  â”‚   â”œâ”€ Recent joins (7 days)                          â”‚
â”‚  â”‚   â””â”€ Activity level (ğŸŸ¢/ğŸŸ¡/ğŸ”´)                      â”‚
â”‚  â”‚                                                     â”‚
â”‚  â”œâ”€> Channel Statistics                                â”‚
â”‚  â”‚   â”œâ”€ Text channels                                 â”‚
â”‚  â”‚   â”œâ”€ Voice channels                                â”‚
â”‚  â”‚   â””â”€ Categories                                    â”‚
â”‚  â”‚                                                     â”‚
â”‚  â”œâ”€> Role Distribution                                â”‚
â”‚  â”‚   â”œâ”€ Total roles                                   â”‚
â”‚  â”‚   â”œâ”€ Custom roles                                  â”‚
â”‚  â”‚   â””â”€ Top 10 by member count                        â”‚
â”‚  â”‚                                                     â”‚
â”‚  â””â”€> Server Information                               â”‚
â”‚      â”œâ”€ Owner & ID                                    â”‚
â”‚      â”œâ”€ Creation date                                 â”‚
â”‚      â”œâ”€ Boost tier                                    â”‚
â”‚      â””â”€ Features                                      â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LOG COLOR CODING SCHEME                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“ Blue (#0099ff)      â†’ Command executions           â”‚
â”‚  âœï¸  Orange (#ffaa00)    â†’ Message edits               â”‚
â”‚  ğŸ—‘ï¸  Red (#ff3333)       â†’ Message deletes             â”‚
â”‚  ğŸ”¨ Various colors      â†’ Moderation actions           â”‚
â”‚     â”œâ”€ Kick: #ff6b6b (Red)                            â”‚
â”‚     â”œâ”€ Ban: #ff3333 (Dark Red)                        â”‚
â”‚     â”œâ”€ Mute: #ffaa00 (Orange)                        â”‚
â”‚     â”œâ”€ Warn: #ffaa00 (Orange)                        â”‚
â”‚     â””â”€ Channel: #0099ff (Blue)                       â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


FLOW DIAGRAM:

User Action
    â†“
Discord Event Fired
    â†“
bot.js Listener Activated
    â†“
LogSettings Query
    â”‚
    â”œâ”€ Is channel set? â”€â”€NOâ”€â”€â†’ Stop
    â”‚
    â””â”€ YES
        â†“
    Is feature enabled? â”€â”€NOâ”€â”€â†’ Stop
        â”‚
        â””â”€ YES
            â†“
        Create Embed (colored)
            â†“
        Add Details (user, reason, etc)
            â†“
        Send to Log Channel
            â†“
        âœ… LOGGED


DATA FLOW:

moderation command â†’ loggingUtils.js â†’ createEmbed â†’ LogSettings query
                                         â†“
                                    check if channel set
                                         â†“
                                    check if feature enabled
                                         â†“
                                    send to Discord channel
